"use strict";!function(){var r=document.getElementById("form__quiz"),e=r.querySelectorAll(".collection__btn"),t=r.querySelectorAll(".quiz__item"),u={};function n(e){e.preventDefault();var n=e.target,e=n.nextElementSibling,n=n.id||null;n&&(n=n,!(n=parseInt(n.match(/\d+/))?parseInt(n.match(/\d+/)):null)||function(e,n){if(1==e){console.log("начинаем сохранять данные в объект шага "+e);var t=a("revenue_year"),c=a("balance_currency"),o=a("tax_regime"),i=function(e){return(null===(e=r.querySelector('input[name="'.concat(e,'"]')))||void 0===e?void 0:e.value).trim()||null}("combination_modes"),l=s("combination_modes");return function(e,n){e.classList.remove("collection__input--error"),n.classList.remove("collection__error--active")}(l,n),3==o&&null==i?(console.log("что то пошло не так на шаге "+e),function(e,n){return e.classList.add("collection__input--error"),n.classList.add("collection__error--active"),!1}(l,n)):Object.assign(u,{revenue_year:t,balance_currency:c,tax_regime:o,combination_modes:i})}}(n,e)&&(console.log("добавили данные шага ".concat(n),u),e=n+1,e=document.getElementById("quiz__item".concat(e))?document.getElementById("quiz__item".concat(e)):null,console.log("переходим на следующий шаг ".concat(n+1)),function(e){t.forEach(function(e){e.classList.remove("quiz__item--active")}),e.classList.add("quiz__item--active")}(e)))}function a(e){return(null===(e=r.querySelector('input[name="'.concat(e,'"]:checked')))||void 0===e?void 0:e.value)||null}function s(e){return r.querySelector('input[name="'.concat(e,'"]'))||null}function c(){var e,e=(e="tax_regime",r.querySelectorAll('input[name="'.concat(e,'"]'))||null),n=s("combination_modes");e.forEach(function(e){e.addEventListener("click",function(){(3==a("tax_regime")?function(e){e.disabled=!e.disabled,0==e.disabled&&e.focus()}:function(e){e.disabled=!0,e.value=""})(n)})})}e.forEach(function(e){e.addEventListener("click",n)}),c()}(),function(){var e=document.querySelector(".menu__toggle"),n=document.querySelector(".menu__list--adaptive");e.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("is-open")}),document.querySelectorAll(".menu__link").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var n=t.getAttribute("href");"#"!=n&&document.querySelector(n).scrollIntoView({behavior:"smooth"});e=".menu__list--adaptive",e=null!==(n=t).closest(e)&&n.closest(e);!1!==e&&e.classList.contains("is-open")&&e.classList.toggle("is-open")})}),document.querySelectorAll(".services__btn").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=e.target,t=n.closest(".services__item"),e=t.querySelectorAll(".services__info");t.classList.contains("services__item--opened")?n.innerHTML="Подробнее":n.innerHTML="Скрыть",t.classList.toggle("services__item--opened"),e.forEach(function(e){e.classList.toggle("services__info--none")})})})}();