"use strict";!function(){var i,o=document.getElementById("form__quiz"),D=o.querySelector('select[name="region"]'),e=o.querySelectorAll(".collection__btn"),n=o.querySelectorAll(".quiz__item"),W={};function t(e){e.preventDefault();var t=e.target,e=t.nextElementSibling,t=t.id||null;t&&(t=t,!(t=parseInt(t.match(/\d+/))?parseInt(t.match(/\d+/)):null)||function(e,t){{if(1==e){console.log("начинаем сохранять данные в объект шага "+e);var n=B("revenue_year"),i=B("balance_currency"),o=B("tax_regime"),c=M("combination_modes"),r=H("combination_modes");return w(r,t),3==o&&null==c?(console.log("что то пошло не так на шаге "+e),T(r,t)):Object.assign(W,{revenue_year:n,balance_currency:i,tax_regime:o,combination_modes:c})}if(2==e){console.log("начинаем сохранять данные в объект шага "+e);var a=B("activities"),l=B("branches"),u=function(e){return e.value||null}(D),s=B("departure"),r=M("activities__additional"),n=H("activities__additional"),i=M("departure__additional"),o=H("departure__additional"),_=M("number__employees"),c=H("number__employees"),d=B("number__assets");return w(n,t),w(o,t),w(c,t),2==a&&null==r?(console.log("что то пошло не так на шаге "+e),T(n,t)):1==s&&null==i?(console.log("что то пошло не так на шаге "+e),T(o,t)):null==_?(console.log("что то пошло не так на шаге "+e),T(c,t)):Object.assign(W,{activities:a,branches:l,region:u,departure:s,activities__additional:r,departure__additional:i,number__employees:_,number__assets:d})}if(3==e){var _=B("receipt"),d=B("contractor"),m=B("implementation"),f=B("buyers"),v=B("investments"),p=B("credits");return Object.assign(W,{receipt:_,contractor:d,implementation:m,buyers:f,investments:v,credits:p})}if(4==e){var g=B("export_import"),h=B("mpz"),b=B("accounting"),y=M("accounting__additional"),E=H("accounting__additional"),q=B("audit"),L=B("tax_audit"),S=B("change");return w(E,t),1==b&&null==y?(console.log("что то пошло не так на шаге "+e),T(E,t)):Object.assign(W,{export_import:g,mpz:h,accounting:b,accounting__additional:y,audit:q,tax_audit:L,change:S})}if(5==e){var z=B("service"),x=B("required"),k=B("plan"),A=M("timing"),j=H("timing"),I=M("period"),O=H("period");return w(j,t),w(O,t),null==A?(console.log("что то пошло не так на шаге "+e),T(j,t)):null==I?(console.log("что то пошло не так на шаге "+e),T(O,t)):Object.assign(W,{service:z,required:x,plan:k,timing:A,period:I})}if(6==e){m=M("name_of_organizations"),f=H("name_of_organizations"),v=M("location"),p=H("location"),E=M("tax_status"),g=H("tax_status"),h=M("actual_address"),b=H("actual_address"),y=M("email"),q=H("email"),L=M("phone"),S=H("phone"),j=M("tin"),O=H("tin"),z=M("chief_accountant"),x=H("chief_accountant"),k=M("head"),A=H("head"),I=M("contact_person"),e=H("contact_person");return w(f,t),w(p,t),w(g,t),w(b,t),w(q,t),w(S,t),w(O,t),w(x,t),w(A,t),w(e,t),null==m?T(f,t):null==v?T(p,t):null==E?T(g,t):null==h?T(b,t):null==y?T(q,t):null==L?T(S,t):null==j?T(O,t):null==z?T(x,t):null==k?T(A,t):null==I?T(e,t):Object.assign(W,{name_of_organizations:m,location:v,tax_status:E,actual_address:h,email:y,phone:L,tin:j,chief_accountant:z,head:k,contact_person:I})}}}(t,e)&&(console.log("добавили данные шага ".concat(t),W),e=t+1,e=document.getElementById("quiz__item".concat(e))?document.getElementById("quiz__item".concat(e)):null,console.log("переходим на следующий шаг ".concat(t+1)),function(e){n.forEach(function(e){e.classList.remove("quiz__item--active")}),e.classList.add("quiz__item--active")}(e)))}function B(e){return(null===(e=o.querySelector('input[name="'.concat(e,'"]:checked')))||void 0===e?void 0:e.value)||null}function H(e){return o.querySelector('input[name="'.concat(e,'"]'))||null}function c(e){return o.querySelectorAll('input[name="'.concat(e,'"]'))||null}function M(e){return(null===(e=o.querySelector('input[name="'.concat(e,'"]')))||void 0===e?void 0:e.value).trim()||null}function r(){var e=c("tax_regime"),n=H("combination_modes");e.forEach(function(e){e.addEventListener("click",function(){var e,t;e=B("tax_regime"),t=o.querySelector("#quiz__item1 .collection__error"),3==e?s(n):(u(n),w(n,t))})})}function a(){var t=o.querySelector("#quiz__item2 .collection__error"),e=c("activities"),n=H("activities__additional");e.forEach(function(e){e.addEventListener("click",function(){2==B("activities")?s(n):(u(n),w(n,t))})});var e=c("departure"),i=H("departure__additional");e.forEach(function(e){e.addEventListener("click",function(){1==B("departure")?s(i):(u(i),w(i,t))})})}function l(){var t=o.querySelector("#quiz__item3 .collection__error"),e=c("accounting"),n=H("accounting__additional");e.forEach(function(e){e.addEventListener("click",function(){1==B("accounting")?s(n):(u(n),w(n,t))})})}function u(e){e.disabled=!0,e.value=""}function s(e){e.disabled=!1,e.focus()}function T(e,t){return e.classList.add("collection__input--error"),t.classList.add("collection__error--active"),_(),!1}function w(e,t){e.classList.remove("collection__input--error"),t.classList.remove("collection__error--active")}function _(){inputWithError=o.querySelectorAll(".collection__input--error"),console.log(inputWithError),0!=inputWithError.length&&inputWithError.forEach(function(e){e.addEventListener("focus",d)})}function d(e){e=e.target;e.classList.contains("collection__input--error")&&e.classList.remove("collection__input--error")}e.forEach(function(e){e.addEventListener("click",t)}),r(),a(),l(),i=D,["Амурская область (Благовещенск)","Архангельская область (Архангельск)","Астраханская область (Астрахань)","Белгородская область (Белгород)","Брянская область (Брянск)","Челябинская область (Челябинск)","Иркутская область (Иркутск)","Ивановская область (Иваново)","Калининградская область (Калининград)","Калужская область (Калуга)","Кемеровская область (Кемерово)","Кировская область (Киров)","Костромская область (Кострома)","Курганская область (Курган)","Курская область (Курск)","Ленинградская область (Санкт-Петербург)","Липецкая область (Липецк)","Магаданская область (Магадан)","Московская область (Москва)","Мурманская область (Мурманск)","Нижегородская область (Нижний Новгород)","Новгородская область (Великий Новгород)","Новосибирская область (Новосибирск)","Омская область (Омск)","Оренбургская область (Оренбург)","Орловская область (Орёл)","Пензенская область (Пенза)","Псковская область (Псков)","Ростовская область (Ростов-на-Дону)","Рязанская область (Рязань)","Сахалинская область (Южно-Сахалинск)","Самарская область (Самара)","Саратовская область (Саратов)","Смоленская область (Смоленск)","Свердловская область (Екатеринбург)","Тамбовская область (Тамбов)","Томская область (Томск)","Тверская область (Тверь)","Тульская область (Тула)","Тюменская область (Тюмень)","Ульяновская область (Ульяновск)","Владимирская область (Владимир)","Волгоградская область (Волгоград)","Вологодская область (Вологда)","Воронежская область (Воронеж)","Ярославская область (Ярославль)"].forEach(function(e,t){var n=document.createElement("option");18==(n.value=t)&&n.setAttribute("selected","selected"),n.innerHTML=e,i.appendChild(n)}),_()}(),function(){var e=document.querySelector(".menu__toggle"),t=document.querySelector(".menu__list--adaptive");e.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("is-open")}),document.querySelectorAll(".menu__link").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=n.getAttribute("href");"#"!=t&&document.querySelector(t).scrollIntoView({behavior:"smooth"});e=".menu__list--adaptive",e=null!==(t=n).closest(e)&&t.closest(e);!1!==e&&e.classList.contains("is-open")&&e.classList.toggle("is-open")})}),document.querySelectorAll(".services__btn").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target,n=t.closest(".services__item"),e=n.querySelectorAll(".services__info");n.classList.contains("services__item--opened")?t.innerHTML="Подробнее":t.innerHTML="Скрыть",n.classList.toggle("services__item--opened"),e.forEach(function(e){e.classList.toggle("services__info--none")})})})}();