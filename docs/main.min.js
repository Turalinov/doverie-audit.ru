(function() {

  let a = 11;
  console.log('a', a);
  
  const menuToggle = document.querySelector('.menu__toggle');
  const menu = document.querySelector('.menu__list');
  // const body = document.querySelector('body')

  menuToggle.addEventListener('click', (e) => {
    e.preventDefault();
    menu.classList.toggle('is-open')
    // body.classList.toggle('body--locked')
  })


  function findParent(el, selector) {
    return el.closest(selector) !== null ? el.closest(selector) : false;
  }




  const menuLinks = document.querySelectorAll('.menu__link');

  menuLinks.forEach((menuLink) => {
    menuLink.addEventListener('click', (e) => {


      e.preventDefault();

      // let blockId = menuLink.getAttribute('href')
      // if (blockId != "#") {
      //     document.querySelector(blockId).scrollIntoView({
      //       behavior: 'smooth',
      //     })
      // }

      //для мобилки закрытия меню берем родитель меню
      const parentMenu = findParent(menuLink, '.menu__list');
      if(parentMenu !== false) {
        if (parentMenu.classList.contains('is-open')) {
          parentMenu.classList.toggle('is-open');
          // body.classList.toggle('body--locked')
        }
      }



    })
  })




//   const animItems = document.querySelectorAll('._anim-items');


  
//   if (animItems.length > 0) {
//     window.addEventListener('scroll', animOnScroll)
//     function animOnScroll() {
//       for (let i = 0; i < animItems.length; i++) {
//         const animItem = animItems[i];
        
//         const animItemHeight = animItem.offsetHeight; //высота элемента 182
//         const animItemOffset = offset(animItem).top; //позиция объекта относительно вверха окна
//         const animStart = 4; // коэффициент регулирования начала анимация

//         let animItemPoint = window.innerHeight - animItemHeight / animStart; // 700 - 200 /4 = 750
//         if ( animItemHeight > window.innerHeight) {
//           animItemPoint = window.innerHeight - window.innerHeight / animStart;; // 800 - 800 / 4 = 1000
//         }

//         if ((pageYOffset > animItemOffset - animItemPoint) && (pageYOffset < animItemOffset + animItemHeight)) //возвращает количество пикселей, на которое прокручен документ по вертикали
//         {
//           animItem.classList.add('_active');
//         } else {
//           if (!animItem.classList.contains('_anim-no-hide')) {
//             animItem.classList.remove('_active');
//           }
//         }
        
//       }
//     }


//     function offset(el) {

//       const rect = el.getBoundingClientRect(); // размер элемента и его позицию относительно  viewport

//       const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
//       // pageXOffset - текущая прокрутка слева ,
//       // document.documentElement - html,  
//       // scrollTop - сколько прокручено вверх
//       const scrollTop = window.pageXOffset || document.documentElement.scrollTop;


//       return {
//         top: rect.top + scrollTop,
//         left: rect.left + scrollLeft
//       }

//     }


//     setTimeout(() => {
//       animOnScroll()
//     }, 400);

//   }


//   $(document).ready(function() {
//     $('.portfolio__slider').slick({
//       infinite: false,
//       centerPadding: "60px",
//       dots: true,
//       focusOnSelect: true,
//       speed: 1000,
//       slidesToShow: 3,
//       slidesToScroll: 3,
//       adaptiveHeight: true,
//       responsive: [
//         {
//           breakpoint: 768, 
//           settings: {
//             centerPadding: '20px',
//             slidesToShow: 2,
//             slidesToScroll: 2,
//             adaptiveHeight: true,
//           }
//         },
//         {
//           breakpoint: 576,
//           settings: {
//             arrows: false,
//             centerPadding: 0,
//             slidesToShow: 1,
//             slidesToScroll: 1,
//             adaptiveHeight: true,
//           }
//         }
//       ]
//     });



//     $('.reviwes__slider').slick({
//       infinite: false,
//       centerPadding: "60px",
//       dots: true,
//       focusOnSelect: true,
//       speed: 1000,
//       slidesToShow: 3,
//       slidesToScroll: 3,
//       adaptiveHeight: true,
//       responsive: [
//         {
//           breakpoint: 768,
//           settings: {
//             centerPadding: '20px',
//             slidesToShow: 2,
//             slidesToScroll: 2,
//             adaptiveHeight: true,
//           }
//         },
//         {
//           breakpoint: 576,
//           settings: {
//             arrows: false,
//             centerPadding: 0,
//             slidesToShow: 1,
//             slidesToScroll: 1,
//             adaptiveHeight: true,
//           }
//         }
//       ]
//     });
//   })





  









//   function addTelegramLinks(element) {
//     element.addEventListener('click', (e) => {
//       e.preventDefault();

//       location = '';

//     })
//   }


//   const servicesButtons = document.querySelectorAll('.services__btn');
//   servicesButtons.forEach((servicesButton) => {
//     addTelegramLinks(servicesButton)
//   })

//   const offerButtons = document.querySelectorAll('.offer__btn');
//   offerButtons.forEach((offerButton) => {
//     addTelegramLinks(offerButton)
//   })



//   const youtubeLinks = document.querySelectorAll('.portfolio__youtube-link')
//   const youtubeModal = document.getElementById('youtube-modal')
//   const youtubeModalClose = document.getElementById('youtube-close')
//   const youtubeFrame = document.getElementById('youtube-frame')
 

//   youtubeLinks.forEach(( youtubeLink ) => {
//     youtubeLink.addEventListener('click', (e) => {
//       e.preventDefault();
//       let id = getYoutubeId(youtubeLink);
//       youtubeFrame.src = ``;
//       setTimeout(() => {
//         youtubeModal.style.display = 'block'
//       }, 1000);
//     })
//   })

//   youtubeModalClose.addEventListener('click', (e) => {
//     e.preventDefault(); 
//     youtubeFrame.src = ``;
//     youtubeModal.style.display = 'none'
//   })

//   function getYoutubeId(el) {
//     return el.dataset.id;
//   }



//   let forms = document.querySelectorAll('.form__elem');



//   forms.forEach( form => {
//     form.addEventListener('submit', (e) => {
//       e.preventDefault();
      
//       let formWrapper = form.closest('.form')
//       let request = formWrapper.querySelector('.form__request');
//       let answer = formWrapper.querySelector('.form__answer');




//       let inputs = form.elements;
//       let obj = {};

//       for (let i = 0; i < inputs.length; i++) {



//         let item = inputs.item(i)
//         let name = item.name;
//         let val = String(item.value).trim();
//         let tag = item.tagName.toLowerCase();

//         if (tag == 'button') {
//           continue;
//         }


//         if (val == ""){
//           item.style.border = "2px solid red";
//           return false;
//         } else {
//           item.style.border = "none";
//           obj[name] = val;
//         } 
        
//         console.log(obj);
//       }

//       //В переменную $token нужно вставить токен, который нам прислал @botFather
//       const token = "";
//       //Сюда вставляем chat_id
//       const chatId = "";

//       let text = '';
//       for( let key in obj ) {
//         text += `<b>${key}</b> ${obj[key]}\n`;
//       }

//       const parse_mode = "HTML";

//       const requestOptionsPush = {
//         method: 'POST',
//         headers: {
//           'Accept': 'application/json, text/plain, */*',
//           'Content-Type': 'application/json',
//         },
//         body: JSON.stringify(
//           { chat_id: chatId, parse_mode: parse_mode, text: text }
//         )
//       };

//       fetch(``, requestOptionsPush)
//         .then(response => response.json())
//         .then(response => {
//           if (response.ok) {
//             form.reset();
//             request.style.display = "none"
//             answer.style.display = "block"


//           }
//         });



//     })
//   })








})()
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblxyXG4gIGxldCBhID0gMTE7XHJcbiAgY29uc29sZS5sb2coJ2EnLCBhKTtcclxuICBcclxuICBjb25zdCBtZW51VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX3RvZ2dsZScpO1xyXG4gIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fbGlzdCcpO1xyXG4gIC8vIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHJcbiAgbWVudVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2lzLW9wZW4nKVxyXG4gICAgLy8gYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdib2R5LS1sb2NrZWQnKVxyXG4gIH0pXHJcblxyXG5cclxuICBmdW5jdGlvbiBmaW5kUGFyZW50KGVsLCBzZWxlY3Rvcikge1xyXG4gICAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3IpICE9PSBudWxsID8gZWwuY2xvc2VzdChzZWxlY3RvcikgOiBmYWxzZTtcclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIGNvbnN0IG1lbnVMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19saW5rJyk7XHJcblxyXG4gIG1lbnVMaW5rcy5mb3JFYWNoKChtZW51TGluaykgPT4ge1xyXG4gICAgbWVudUxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cclxuXHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIC8vIGxldCBibG9ja0lkID0gbWVudUxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJylcclxuICAgICAgLy8gaWYgKGJsb2NrSWQgIT0gXCIjXCIpIHtcclxuICAgICAgLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmxvY2tJZCkuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAvLyAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICAvL9C00LvRjyDQvNC+0LHQuNC70LrQuCDQt9Cw0LrRgNGL0YLQuNGPINC80LXQvdGOINCx0LXRgNC10Lwg0YDQvtC00LjRgtC10LvRjCDQvNC10L3RjlxyXG4gICAgICBjb25zdCBwYXJlbnRNZW51ID0gZmluZFBhcmVudChtZW51TGluaywgJy5tZW51X19saXN0Jyk7XHJcbiAgICAgIGlmKHBhcmVudE1lbnUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHBhcmVudE1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1vcGVuJykpIHtcclxuICAgICAgICAgIHBhcmVudE1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgLy8gYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdib2R5LS1sb2NrZWQnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuXHJcblxyXG5cclxuLy8gICBjb25zdCBhbmltSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuX2FuaW0taXRlbXMnKTtcclxuXHJcblxyXG4gIFxyXG4vLyAgIGlmIChhbmltSXRlbXMubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFuaW1PblNjcm9sbClcclxuLy8gICAgIGZ1bmN0aW9uIGFuaW1PblNjcm9sbCgpIHtcclxuLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmltSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuLy8gICAgICAgICBjb25zdCBhbmltSXRlbSA9IGFuaW1JdGVtc1tpXTtcclxuICAgICAgICBcclxuLy8gICAgICAgICBjb25zdCBhbmltSXRlbUhlaWdodCA9IGFuaW1JdGVtLm9mZnNldEhlaWdodDsgLy/QstGL0YHQvtGC0LAg0Y3Qu9C10LzQtdC90YLQsCAxODJcclxuLy8gICAgICAgICBjb25zdCBhbmltSXRlbU9mZnNldCA9IG9mZnNldChhbmltSXRlbSkudG9wOyAvL9C/0L7Qt9C40YbQuNGPINC+0LHRitC10LrRgtCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQstCy0LXRgNGF0LAg0L7QutC90LBcclxuLy8gICAgICAgICBjb25zdCBhbmltU3RhcnQgPSA0OyAvLyDQutC+0Y3RhNGE0LjRhtC40LXQvdGCINGA0LXQs9GD0LvQuNGA0L7QstCw0L3QuNGPINC90LDRh9Cw0LvQsCDQsNC90LjQvNCw0YbQuNGPXHJcblxyXG4vLyAgICAgICAgIGxldCBhbmltSXRlbVBvaW50ID0gd2luZG93LmlubmVySGVpZ2h0IC0gYW5pbUl0ZW1IZWlnaHQgLyBhbmltU3RhcnQ7IC8vIDcwMCAtIDIwMCAvNCA9IDc1MFxyXG4vLyAgICAgICAgIGlmICggYW5pbUl0ZW1IZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuLy8gICAgICAgICAgIGFuaW1JdGVtUG9pbnQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgLyBhbmltU3RhcnQ7OyAvLyA4MDAgLSA4MDAgLyA0ID0gMTAwMFxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgaWYgKChwYWdlWU9mZnNldCA+IGFuaW1JdGVtT2Zmc2V0IC0gYW5pbUl0ZW1Qb2ludCkgJiYgKHBhZ2VZT2Zmc2V0IDwgYW5pbUl0ZW1PZmZzZXQgKyBhbmltSXRlbUhlaWdodCkpIC8v0LLQvtC30LLRgNCw0YnQsNC10YIg0LrQvtC70LjRh9C10YHRgtCy0L4g0L/QuNC60YHQtdC70LXQuSwg0L3QsCDQutC+0YLQvtGA0L7QtSDQv9GA0L7QutGA0YPRh9C10L0g0LTQvtC60YPQvNC10L3RgiDQv9C+INCy0LXRgNGC0LjQutCw0LvQuFxyXG4vLyAgICAgICAgIHtcclxuLy8gICAgICAgICAgIGFuaW1JdGVtLmNsYXNzTGlzdC5hZGQoJ19hY3RpdmUnKTtcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgaWYgKCFhbmltSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ19hbmltLW5vLWhpZGUnKSkge1xyXG4vLyAgICAgICAgICAgICBhbmltSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdfYWN0aXZlJyk7XHJcbi8vICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4vLyAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG5cclxuLy8gICAgIGZ1bmN0aW9uIG9mZnNldChlbCkge1xyXG5cclxuLy8gICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyDRgNCw0LfQvNC10YAg0Y3Qu9C10LzQtdC90YLQsCDQuCDQtdCz0L4g0L/QvtC30LjRhtC40Y4g0L7RgtC90L7RgdC40YLQtdC70YzQvdC+ICB2aWV3cG9ydFxyXG5cclxuLy8gICAgICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuLy8gICAgICAgLy8gcGFnZVhPZmZzZXQgLSDRgtC10LrRg9GJ0LDRjyDQv9GA0L7QutGA0YPRgtC60LAg0YHQu9C10LLQsCAsXHJcbi8vICAgICAgIC8vIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAtIGh0bWwsICBcclxuLy8gICAgICAgLy8gc2Nyb2xsVG9wIC0g0YHQutC+0LvRjNC60L4g0L/RgNC+0LrRgNGD0YfQtdC90L4g0LLQstC10YDRhVxyXG4vLyAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuXHJcblxyXG4vLyAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgIHRvcDogcmVjdC50b3AgKyBzY3JvbGxUb3AsXHJcbi8vICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdFxyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgfVxyXG5cclxuXHJcbi8vICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuLy8gICAgICAgYW5pbU9uU2Nyb2xsKClcclxuLy8gICAgIH0sIDQwMCk7XHJcblxyXG4vLyAgIH1cclxuXHJcblxyXG4vLyAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgJCgnLnBvcnRmb2xpb19fc2xpZGVyJykuc2xpY2soe1xyXG4vLyAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbi8vICAgICAgIGNlbnRlclBhZGRpbmc6IFwiNjBweFwiLFxyXG4vLyAgICAgICBkb3RzOiB0cnVlLFxyXG4vLyAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlLFxyXG4vLyAgICAgICBzcGVlZDogMTAwMCxcclxuLy8gICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4vLyAgICAgICBzbGlkZXNUb1Njcm9sbDogMyxcclxuLy8gICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXHJcbi8vICAgICAgIHJlc3BvbnNpdmU6IFtcclxuLy8gICAgICAgICB7XHJcbi8vICAgICAgICAgICBicmVha3BvaW50OiA3NjgsIFxyXG4vLyAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuLy8gICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzIwcHgnLFxyXG4vLyAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbi8vICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAyLFxyXG4vLyAgICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcclxuLy8gICAgICAgICAgIH1cclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgIHtcclxuLy8gICAgICAgICAgIGJyZWFrcG9pbnQ6IDU3NixcclxuLy8gICAgICAgICAgIHNldHRpbmdzOiB7XHJcbi8vICAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6IDAsXHJcbi8vICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuLy8gICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbi8vICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgXVxyXG4vLyAgICAgfSk7XHJcblxyXG5cclxuXHJcbi8vICAgICAkKCcucmV2aXdlc19fc2xpZGVyJykuc2xpY2soe1xyXG4vLyAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbi8vICAgICAgIGNlbnRlclBhZGRpbmc6IFwiNjBweFwiLFxyXG4vLyAgICAgICBkb3RzOiB0cnVlLFxyXG4vLyAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlLFxyXG4vLyAgICAgICBzcGVlZDogMTAwMCxcclxuLy8gICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4vLyAgICAgICBzbGlkZXNUb1Njcm9sbDogMyxcclxuLy8gICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXHJcbi8vICAgICAgIHJlc3BvbnNpdmU6IFtcclxuLy8gICAgICAgICB7XHJcbi8vICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbi8vICAgICAgICAgICBzZXR0aW5nczoge1xyXG4vLyAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMjBweCcsXHJcbi8vICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuLy8gICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDIsXHJcbi8vICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0sXHJcbi8vICAgICAgICAge1xyXG4vLyAgICAgICAgICAgYnJlYWtwb2ludDogNTc2LFxyXG4vLyAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuLy8gICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgY2VudGVyUGFkZGluZzogMCxcclxuLy8gICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4vLyAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuLy8gICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXHJcbi8vICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICBdXHJcbi8vICAgICB9KTtcclxuLy8gICB9KVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vICAgZnVuY3Rpb24gYWRkVGVsZWdyYW1MaW5rcyhlbGVtZW50KSB7XHJcbi8vICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuLy8gICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuLy8gICAgICAgbG9jYXRpb24gPSAnJztcclxuXHJcbi8vICAgICB9KVxyXG4vLyAgIH1cclxuXHJcblxyXG4vLyAgIGNvbnN0IHNlcnZpY2VzQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlc19fYnRuJyk7XHJcbi8vICAgc2VydmljZXNCdXR0b25zLmZvckVhY2goKHNlcnZpY2VzQnV0dG9uKSA9PiB7XHJcbi8vICAgICBhZGRUZWxlZ3JhbUxpbmtzKHNlcnZpY2VzQnV0dG9uKVxyXG4vLyAgIH0pXHJcblxyXG4vLyAgIGNvbnN0IG9mZmVyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vZmZlcl9fYnRuJyk7XHJcbi8vICAgb2ZmZXJCdXR0b25zLmZvckVhY2goKG9mZmVyQnV0dG9uKSA9PiB7XHJcbi8vICAgICBhZGRUZWxlZ3JhbUxpbmtzKG9mZmVyQnV0dG9uKVxyXG4vLyAgIH0pXHJcblxyXG5cclxuXHJcbi8vICAgY29uc3QgeW91dHViZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcnRmb2xpb19feW91dHViZS1saW5rJylcclxuLy8gICBjb25zdCB5b3V0dWJlTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneW91dHViZS1tb2RhbCcpXHJcbi8vICAgY29uc3QgeW91dHViZU1vZGFsQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneW91dHViZS1jbG9zZScpXHJcbi8vICAgY29uc3QgeW91dHViZUZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3lvdXR1YmUtZnJhbWUnKVxyXG4gXHJcblxyXG4vLyAgIHlvdXR1YmVMaW5rcy5mb3JFYWNoKCggeW91dHViZUxpbmsgKSA9PiB7XHJcbi8vICAgICB5b3V0dWJlTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbi8vICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuLy8gICAgICAgbGV0IGlkID0gZ2V0WW91dHViZUlkKHlvdXR1YmVMaW5rKTtcclxuLy8gICAgICAgeW91dHViZUZyYW1lLnNyYyA9IGBgO1xyXG4vLyAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuLy8gICAgICAgICB5b3V0dWJlTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuLy8gICAgICAgfSwgMTAwMCk7XHJcbi8vICAgICB9KVxyXG4vLyAgIH0pXHJcblxyXG4vLyAgIHlvdXR1YmVNb2RhbENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuLy8gICAgIGUucHJldmVudERlZmF1bHQoKTsgXHJcbi8vICAgICB5b3V0dWJlRnJhbWUuc3JjID0gYGA7XHJcbi8vICAgICB5b3V0dWJlTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4vLyAgIH0pXHJcblxyXG4vLyAgIGZ1bmN0aW9uIGdldFlvdXR1YmVJZChlbCkge1xyXG4vLyAgICAgcmV0dXJuIGVsLmRhdGFzZXQuaWQ7XHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG4vLyAgIGxldCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19lbGVtJyk7XHJcblxyXG5cclxuXHJcbi8vICAgZm9ybXMuZm9yRWFjaCggZm9ybSA9PiB7XHJcbi8vICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbi8vICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgXHJcbi8vICAgICAgIGxldCBmb3JtV3JhcHBlciA9IGZvcm0uY2xvc2VzdCgnLmZvcm0nKVxyXG4vLyAgICAgICBsZXQgcmVxdWVzdCA9IGZvcm1XcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19yZXF1ZXN0Jyk7XHJcbi8vICAgICAgIGxldCBhbnN3ZXIgPSBmb3JtV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYW5zd2VyJyk7XHJcblxyXG5cclxuXHJcblxyXG4vLyAgICAgICBsZXQgaW5wdXRzID0gZm9ybS5lbGVtZW50cztcclxuLy8gICAgICAgbGV0IG9iaiA9IHt9O1xyXG5cclxuLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuXHJcblxyXG5cclxuLy8gICAgICAgICBsZXQgaXRlbSA9IGlucHV0cy5pdGVtKGkpXHJcbi8vICAgICAgICAgbGV0IG5hbWUgPSBpdGVtLm5hbWU7XHJcbi8vICAgICAgICAgbGV0IHZhbCA9IFN0cmluZyhpdGVtLnZhbHVlKS50cmltKCk7XHJcbi8vICAgICAgICAgbGV0IHRhZyA9IGl0ZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuLy8gICAgICAgICBpZiAodGFnID09ICdidXR0b24nKSB7XHJcbi8vICAgICAgICAgICBjb250aW51ZTtcclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuLy8gICAgICAgICBpZiAodmFsID09IFwiXCIpe1xyXG4vLyAgICAgICAgICAgaXRlbS5zdHlsZS5ib3JkZXIgPSBcIjJweCBzb2xpZCByZWRcIjtcclxuLy8gICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgaXRlbS5zdHlsZS5ib3JkZXIgPSBcIm5vbmVcIjtcclxuLy8gICAgICAgICAgIG9ialtuYW1lXSA9IHZhbDtcclxuLy8gICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKG9iaik7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIC8v0JIg0L/QtdGA0LXQvNC10L3QvdGD0Y4gJHRva2VuINC90YPQttC90L4g0LLRgdGC0LDQstC40YLRjCDRgtC+0LrQtdC9LCDQutC+0YLQvtGA0YvQuSDQvdCw0Lwg0L/RgNC40YHQu9Cw0LsgQGJvdEZhdGhlclxyXG4vLyAgICAgICBjb25zdCB0b2tlbiA9IFwiXCI7XHJcbi8vICAgICAgIC8v0KHRjtC00LAg0LLRgdGC0LDQstC70Y/QtdC8IGNoYXRfaWRcclxuLy8gICAgICAgY29uc3QgY2hhdElkID0gXCJcIjtcclxuXHJcbi8vICAgICAgIGxldCB0ZXh0ID0gJyc7XHJcbi8vICAgICAgIGZvciggbGV0IGtleSBpbiBvYmogKSB7XHJcbi8vICAgICAgICAgdGV4dCArPSBgPGI+JHtrZXl9PC9iPiAke29ialtrZXldfVxcbmA7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHBhcnNlX21vZGUgPSBcIkhUTUxcIjtcclxuXHJcbi8vICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zUHVzaCA9IHtcclxuLy8gICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuLy8gICAgICAgICBoZWFkZXJzOiB7XHJcbi8vICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXHJcbi8vICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4vLyAgICAgICAgIH0sXHJcbi8vICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoXHJcbi8vICAgICAgICAgICB7IGNoYXRfaWQ6IGNoYXRJZCwgcGFyc2VfbW9kZTogcGFyc2VfbW9kZSwgdGV4dDogdGV4dCB9XHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICB9O1xyXG5cclxuLy8gICAgICAgZmV0Y2goYGAsIHJlcXVlc3RPcHRpb25zUHVzaClcclxuLy8gICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbi8vICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4vLyAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbi8vICAgICAgICAgICAgIGZvcm0ucmVzZXQoKTtcclxuLy8gICAgICAgICAgICAgcmVxdWVzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuLy8gICAgICAgICAgICAgYW5zd2VyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHJcblxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4vLyAgICAgfSlcclxuLy8gICB9KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pKCkiXX0=
